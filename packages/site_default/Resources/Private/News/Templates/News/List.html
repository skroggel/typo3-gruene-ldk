<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
	  xmlns:n="http://typo3.org/ns/GeorgRinger/News/ViewHelpers" data-namespace-typo3-fluid="true">

	<f:layout name="List" />


    <f:section name="TopicSlider">

        <div class="swiper-wrapper">
            <f:for each="{pagination.paginator.paginatedItems}" as="newsItem" iteration="iterator">

                <f:variable name="categories"
                            value="{f:render(partial: 'Category/ItemsImploded', arguments:'{categories: newsItem.categories, settings: settings.list._custom.topicSlider}')}" />

                <f:if condition="{newsItem.externalurl}">
                    <f:then>
                        <f:variable name="linkToNewsDetail" value="0" />
                        <f:variable name="link" value="{newsItem.externalurl}" />
                    </f:then>
                    <f:else>
                        <f:variable name="linkToNewsDetail" value="{settings.detailPid}" />
                        <f:variable name="link" value="{newsItem.uid}" />
                    </f:else>
                </f:if>

                <f:render partial="Utils/Tile" arguments="{
                     image: newsItem.txSitedefaultImagePreview.0,
                     header: newsItem.title,
                     subline: categories,
                     text: newsItem.teaser,
                     wrapClass: 'swiper-slide tile-slider',
                     linkToNewsDetail: linkToNewsDetail,
                     link: link,
                     settings: settings.list._custom.topicSlider
                }" />
            </f:for>
        </div>

        <!-- If we need navigation buttons -->
        <f:if condition="{pagination.paginator.paginatedItems -> f:count() > 1}">
            <div class="topic-slider-navigation mt-5 mb-2">
                <f:render partial="Utils/Cta"
                          arguments="{
                                label: '{f:translate(key: \'label.nextTopic\', extensionName: \'SiteDefault\')}',
                                type: 'inverted',
                                class: 'topic-slider-cta',
                                icon: 'reload',
                                settings: settings
                          }" />
            </div>
        </f:if>


    </f:section>

    <f:comment><!-- ============================================================= --> </f:comment>



	<!--
		=====================
			Templates/News/List.html
	-->

	<f:section name="TeaserBox">
        <f:if condition="{news}">
            <f:render partial="List/BoxItem"
                      arguments="{newsItem: news.0, settings:settings, customSettings: settings.list._custom.teaserBox,
                                 ctaLabel: '{f:translate(key: \'label.readMore\', extensionName: \'site_default\')}',
                                 wrapClass: 'box-is-big'}" />
        </f:if>

	</f:section>

    <f:comment><!-- ============================================================= --> </f:comment>



	<f:section name="Default">

		<!--TYPO3SEARCH_end-->
		<f:if condition="{news}">
			<f:then>
				<div class="news-list">
					<f:if condition="{settings.hidePagination}">
						<f:then>
							<f:for each="{news}" as="newsItem" iteration="iterator">
                                <f:render partial="List/BoxItem"
                                          arguments="{newsItem: newsItem, settings: settings, customSettings: settings.list._custom.listBox,
                                                      ctaLabel: '{f:translate(key: \'label.learnMore\', extensionName: \'site_default\')}',
                                                      iterator:iterator}" />
							</f:for>
						</f:then>
						<f:else>
							<f:if condition="{settings.list.paginate.insertAbove}">
								<f:render partial="List/Pagination"
									arguments="{pagination: pagination.pagination, paginator: pagination.paginator}" />
							</f:if>

                            <div class="box-wrap">
                                <f:for each="{pagination.paginator.paginatedItems}" as="newsItem" iteration="iterator">
                                    <f:render partial="List/BoxItem"
                                              arguments="{newsItem: newsItem, settings: settings, customSettings: settings.list._custom.listBox,
                                                          ctaLabel: '{f:translate(key: \'label.learnMore\', extensionName: \'site_default\')}',
                                                          iterator:iterator}" />
                                </f:for>
                            </div>
							<f:if condition="{settings.list.paginate.insertBelow}">
								<f:render partial="List/Pagination"
									arguments="{pagination: pagination.pagination, paginator: pagination.paginator}" />
							</f:if>
						</f:else>
					</f:if>
				</div>
			</f:then>
			<f:else>
				<div class="no-news-found">
					<f:translate key="list_nonewsfound" />
				</div>
			</f:else>
		</f:if>
		<!--TYPO3SEARCH_begin-->
	</f:section>

</html>
