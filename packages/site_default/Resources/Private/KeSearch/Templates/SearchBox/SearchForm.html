<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
	  xmlns:kesearch="http://typo3.org/ns/Tpwd/KeSearch/ViewHelpers"
	  data-namespace-typo3-fluid="true">

    <f:layout name="General" />

    <f:section name="content">
        <form method="get" id="form_kesearch_pi1" name="form_kesearch_pi1" class="form form-search-box"  action="{targetPageUrl}#header">
            <f:comment><!-- Replace the URL with the speaking URL --></f:comment>
            <f:if condition="{isEmptySearch} == FALSE ">
                <f:if condition="{conf.searchWordParameter} == 'tx_kesearch_pi1[sword]'">
                    <f:format.raw><script>history.replaceState(null,'','</f:format.raw><kesearch:link keepPiVars="1" uriOnly="1" />#header<f:format.raw>');</script></f:format.raw>
                </f:if>
            </f:if>

            <div class="input-group search-form-input-group">
                <input type="search" id="ke_search_sword" name="{conf.searchWordParameter}"
                       value="{searchword -> f:format.raw()}"
                       placeholder="{f:translate(key:'search.placeholder', extensionName:'site_default')}"
                       class="search-form-input form-control"
                       aria-label="{f:translate(key:'search.start', extensionName:'site_default')}"
                       aria-describedby="search-form-header"
                       {f:if(condition: '{extConf.allowEmptySearch} == 0', then: 'required')} />
                <button type="submit"
                        class="search-form-button input-group-text"
                        aria-label="{f:translate(key:'search.start', extensionName:'site_default')}"><span class="icon-search"></span></button>
            </div>

            <f:comment><!-- Hidden fields --></f:comment>
            <f:if condition="{lparam}">
                <input type="hidden" name="L" value="{lparam}" />
            </f:if>
            <f:if condition="{mpparam}">
                <input type="hidden" name="MP" value="{mpparam}" />
            </f:if>
            <f:if condition="{typeparam}">
                <input type="hidden" name="type" value="{typeparam}" />
            </f:if>
            <f:if condition="{page}">
                <input id="kesearchpagenumber" type="hidden" name="tx_kesearch_pi1[page]" value="{page}" />
            </f:if>
            <input id="resetFilters" type="hidden" name="tx_kesearch_pi1[resetFilters]" value="0" />
            <f:if condition="{sortByField}">
                <input id="sortByField" type="hidden" name="tx_kesearch_pi1[sortByField]" value="{sortByField}" />
            </f:if>
            <f:if condition="{sortByDir}">
                <input id="sortByDir" type="hidden" name="tx_kesearch_pi1[sortByDir]" value="{sortByDir}" />
            </f:if>
        </form>
    </f:section>
</html>
