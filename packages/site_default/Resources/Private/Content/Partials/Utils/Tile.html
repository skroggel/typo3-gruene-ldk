<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers" data-namespace-typo3-fluid="true">

	<f:if condition="{link}">
		<f:then>
			<f:if condition="{linkToNewsDetail}">
				<f:then>
					<div class="tile {wrapClass}">
						<f:link.action pageUid="{linkToNewsDetail}" action="detail" controller="News"
									   extensionName="News" pluginName="Pi1"
									   arguments="{news: link}" class="link-wrap">
							<f:render section="Inner" arguments="{_all}" />
						</f:link.action>
					</div>
				</f:then>
				<f:else>
					<div class="tile {wrapClass}">
						<f:link.typolink parameter="{link}" class="link-wrap">
							<f:render section="Inner" arguments="{_all}" />
						</f:link.typolink>
					</div>
				</f:else>
			</f:if>
		</f:then>
		<f:else>
			<div class="tile {wrapClass}">
				<f:render section="Inner" arguments="{_all}" />
			</div>
		</f:else>
	</f:if>

	<f:comment><!-- ============================================================== --></f:comment>

	<f:section name="Inner">

		<div class="tile-inner">

            <div class="tile-image">
                <f:render partial="Utils/Media" arguments="{file: image, wrapClass: 'tile-image',
                                                            settings: settings}" />
            </div>

			<div class="tile-body">
				<f:if condition="{subline -> f:format.trim()}">
					<span class="tile-category">
                        {subline}
					</span>
				</f:if>

                <f:render partial="Utils/Header"
                          arguments="{header: header, wrapClass: 'tile-header', settings: settings}"/>

                <f:if condition="{noCrop}">
                    <f:then>
                        <f:render partial="Utils/Bodytext" section="Inline"
                                  arguments="{text: text, class: 'tile-text'}" />
                    </f:then>
                    <f:else>
                        <f:render partial="Utils/Bodytext" section="Inline"
                                  arguments="{text: text, cropSize: 300, class: 'tile-text'}" />
                    </f:else>
                </f:if>
            </div>

            <f:if condition="{showCta}">
                <div class="tile-footer">
                    <div class="tile-cta">
                        <f:render partial="Utils/Cta" arguments="{label: ctaLabel, type:'default'}" />
                    </div>
                </div>
            </f:if>

        </div>
	</f:section>
</html>


