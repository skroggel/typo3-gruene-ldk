    <html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
      data-namespace-typo3-fluid="true"
>

    <f:if condition="{data.rawRecord.foreign_table_parent_uid}">
        <f:then>
            <div class="stage {f:if(condition:data.assets, then: 'has-image', else: 'has-no-image')} bg-color-grey-300" id="c{data.uid}">
                <f:render section="Inner" arguments="{_all}" />
            </div>
        </f:then>

        <f:else>
            <f:variable name="classAddition" value=" fullwidth-inner" />
            <section class="stage {f:if(condition:data.assets, then: 'has-image', else: 'has-no-image')} bg-color-grey-300 fullwidth-1" id="c{data.uid}">
                <f:render section="Inner" arguments="{_all}" />
            </section>
        </f:else>

    </f:if>

    <f:comment><!-- ======================================================== --></f:comment>

    <f:section name="Inner">

        <div class="stage-inner{classAddition}">
            <f:render partial="Utils/Media"
                      arguments="{file: data.assets.0, wrapClass: 'stage-image', settings: settings}" />
        </div>

        <f:variable name="link" value="{f:uri.typolink(parameter:data.madj2k_cta_link)}" />
        <f:if condition="{link}">
            <f:then>
                <a href="{f:uri.typolink(parameter:link)}" class="stage-content link-wrap">
                    <f:render section="SubInner" arguments="{_all}" />
                </a>
            </f:then>
            <f:else>
                <div class="stage-content">
                    <f:render section="SubInner" arguments="{_all}" />
                </div>
            </f:else>
        </f:if>
    </f:section>

    <f:comment><!-- ======================================================== --></f:comment>

    <f:section name="SubInner">

        <div class="stage-content-inner">

            <f:comment><!-- placeholder for OWL-Nav --></f:comment>
            <div class="stage-content-nav"></div>

            <div class="stage-content-main">
                <f:render partial="Utils/Hero"
                          arguments="{hero: data.madj2k_hero,
                                     hero2: data.madj2k_hero2,
                                     wrapClass: 'stage-headline',
                                     layout: 1, settings: settings}" />

                <f:if condition="{link}">
                    <f:render partial="Utils/Cta"
                              arguments="{
                                label: data.madj2k_cta_label,
                                type: 'inverted',
                                class: 'stage-cta',
                                settings: settings
                          }" />
                </f:if>
            </div>

            <f:comment><!-- placeholder for OWL-Nav --></f:comment>
            <div class="stage-content-nav"></div>
        </div>

    </f:section>
</html>
